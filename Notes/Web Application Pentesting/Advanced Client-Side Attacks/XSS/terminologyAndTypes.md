# XSS Vulnerability Overview

As already stated, **XSS (Cross-Site Scripting)** is a vulnerability that allows an attacker to inject malicious scripts into a web page viewed by another user. Consequently, it bypasses the **Same-Origin Policy (SOP)**. SOP is a security mechanism implemented in modern web browsers to prevent a malicious script on one web page from accessing sensitive data on another page. SOP defines origin based on the protocol, hostname, and port. Therefore, a malicious ad cannot access data or manipulate the page or its functionality on another origin, such as an online shop or bank page. XSS bypasses SOP as it executes from the same origin.

## JavaScript for XSS

Basic knowledge of JavaScript is pivotal for understanding XSS exploits and adapting them to your needs. Since XSS is a client-side attack occurring on the target’s web browser, it is essential to try the attacks on a browser similar to the one the target uses. It’s worth noting that different browsers process certain code snippets differently. In other words, one exploit might work on **Google Chrome** but not on **Mozilla Firefox** or **Safari**.

To experiment with JavaScript code in your browser, open the **Console** found under **Web Developer Tools** on Firefox, **Developer Tools** on Google Chrome, and **Web Inspector** on Safari. Alternatively, use the respective shortcuts:

- **Firefox**: Press `Ctrl + Shift + K`
- **Google Chrome**: Press `Ctrl + Shift + J`
- **Safari**: Press `Command + Option + J`

### Try Some Essential JavaScript Functions:

- **Alert**: Display a JavaScript alert in a web browser.
    ```javascript
    alert(1); // Displays an alert with the number 1
    alert('XSS'); // Displays an alert with the text "XSS"
    ```

- **Console log**: Display a value in the browser’s JavaScript console.
    ```javascript
    console.log(1); // Logs the number 1
    console.log("test text"); // Logs the text "test text"
    ```

- **Encoding**: Encode a string of binary data into a base64-encoded ASCII string.
    ```javascript
    btoa("string"); // Encodes a string
    atob("base64_string"); // Decodes a base64-encoded string
    ```

You can also experiment with displaying values like `document.cookie` by using:
```javascript
alert(document.cookie); // Displays the cookies of the current page
```

## Types of XSS

To recap from the **Intro to Cross-site Scripting** room, there are three main types of XSS:

1. **Reflected XSS**: This attack relies on user-controlled input reflected back to the user. For example, when you search for a term, and the resulting page displays the term you searched for (reflected). The attacker would try to embed a malicious script within the search term.
   
2. **Stored XSS**: This attack relies on user input stored in the website’s database. For instance, if users can write product reviews that are saved in a database and displayed to other users, the attacker would insert a malicious script in the review. This script would then be executed in the browsers of other users.

3. **DOM-based XSS**: This attack exploits vulnerabilities within the **Document Object Model (DOM)** to manipulate existing page elements. Unlike reflected or stored XSS, this vulnerability doesn't require server-side interaction. This is the least common of the three types.